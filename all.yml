---
- hosts: all
  roles:

  ## my dotfiles, not yours - myne.
  - role: dots
  ## brew, then cask, then osx bits like the dock which need the cask to go first
  # brew stuff
  ## some old reliables
  - role: brew_package
    package_name: tree
  - role: brew_package
    package_name: htop-osx
#  - role: brew_package
#    package_name: homebrew/dupes/rsync
  ## wget
  - role: brew_package
    package_name: wget
  ## figlet!
  - role: brew_package
    package_name: figlet
  ## irc and silc
  - role: brew_package
    package_name: irssi
  - role: brew_package
    package_name: silc-client
  ## some networky stuffs
  - role: brew_package
    package_name: mtr
  - role: brew_package
    package_name: nmap
  - role: brew_package
    package_name: whatmask

  # cask stuff... for the apps
  ## Misc Stuff...
  - role: cask_package
    package_name: firefox
  - role: cask_package
    package_name: google-chrome
  - role: cask_package
    package_name: music-manager
  - role: cask_package
    package_name: flip4mac
  - role: cask_package
    package_name: vlc
  ## Misc Things...
  - role: cask_package
    package_name: asepsis
  - role: cask_package
    package_name: box-sync
  - role: cask_package
    package_name: flux
  - role: cask_package
    package_name: istat-menus
  - role: cask_package
    package_name: pacifist
  - role: cask_package
    package_name: totalterminal
  - role: cask_package
    package_name: osxfuse
  - role: cask_package
    package_name: sshfs
  ## Text Editors
  - role: cask_package
    package_name: atom
  - role: cask_package
    package_name: sublime-text
  - role: cask_package
    package_name: textmate
  ## VM related stuff
#  - role: cask_package
#    package_name: virtualbox
#  - role: cask_package
#    package_name: vmware-fusion
#  - role: cask_package
#    package_name: vagrant
  ## Panic, mmmmm Panic
  - role: cask_package
    package_name: transmit
  - role: cask_package
    package_name: panic-unison

  # osx config
  ## kill the dashboard
  - role: dashboard
    disabled: NO
  ## fix up the dock
  - role: dock
    apps:
    - /Applications/"System Preferences.app"
    - /Applications/Utilities/Terminal.app
    - /Users/juan/Applications/"Google Chrome.app"
    - /Users/juan/Applications/"Sublime Text 2.app"
    - /Users/juan/Applications/TextMate.app
    - /Applications/Utilities/"Managed Software Update.app"
    folders:
    - path: ~/src/github.com
      view: grid
    - path: ~/Downloads
      sort: datemodified
      view: grid
  ## disable gatekeeper, enable locatedb and sshd, unhide ~/Library and set user account image
  - role: gatekeeper
    gatekeeper: disable
  - role: locatedb
    locatedb: load
  - role: sshd
    sshd: "on"
  - role: unhide_library
  - role: user_image
    image_name: ninjastar.jpg


  # Finder prefs
  - role: finder_prefs
  ## first pane
    show_internal: on
    show_external: on
    show_removeable: on
    show_servers: on
    new_window: home
#    new_window_path: /path/to/foo
    always_new: on
    spring_loaded_folders: on
    spring_loaded_delay: 0.33
  ## third pane
    sidebar: on
    sidebar_width: 190
    sidebar_devices: on
    sidebar_favorites: on
    sidebar_shared: on
    sidebar_tags: off
  ## fourth pane
    show_extensions: on
    extension_warning: off
    trash_warning: off
    trash_securely: off
    search_default: mac

  ## menubar View settings
  - role: finder_window_opts
    window_style: column
    column_width: 200
    tab_bar: on
    status_bar: on
    path_bar: on
    show_posix: on
  ## misc
    quicklook_text_selection: on
    menubar_transparency: off
    icloud_as_default: off
    desktop_icon_size: 64

  # Desktop View Options
  # these are actually not broken now.
  # woowooo cfprefsd happy
  - role: desktop_view_opts
    arrange_by: none
    grid_spacing: 0
    desktop_icon_size: 96
    label_on_bottom: on
    show_info: on
    show_preview: on
    text_size: 11
    toolbar_mode: 2
    toolbar_shown: 1